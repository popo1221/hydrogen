var _i=Object.defineProperty;var n=(ht,lt)=>_i(ht,"name",{value:lt,configurable:!0});(function(){"use strict";var re,se,ie,ne,oe,ae,pe,ce,fe,ue;function ht(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}n(ht,"getDefaultExportFromCjs");function lt(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}n(lt,"isPromise$1");function Rs(r){function e(p,f,h,g){function A(y){typeof self.postMessage!="function"?p.ports[0].postMessage(y):self.postMessage(y)}n(A,"postMessage"),h?(typeof console<"u"&&"error"in console&&console.error("Worker caught an error:",h),A([f,{message:h.message}])):A([f,null,g])}n(e,"postOutgoingMessage");function t(p,f){try{return{res:p(f)}}catch(h){return{err:h}}}n(t,"tryCatchFunc");function i(p,f,h,g){var A=t(f,g);A.err?e(p,h,A.err):lt(A.res)?A.res.then(function(y){e(p,h,null,y)},function(y){e(p,h,y)}):e(p,h,null,A.res)}n(i,"handleIncomingMessage");function c(p){var f=p.data;if(!(!Array.isArray(f)||f.length!==2)){var h=f[0],g=f[1];typeof r!="function"?e(p,h,new Error("Please pass a function into register().")):i(p,r,h,g)}}n(c,"onIncomingMessage"),self.addEventListener("message",c)}n(Rs,"registerPromiseWorker");var Hs=Rs,Xs=ht(Hs);function m(r,e,t,i,c){var p={};return Object.keys(i).forEach(function(f){p[f]=i[f]}),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=t.slice().reverse().reduce(function(f,h){return h(r,e,f)||f},p),c&&p.initializer!==void 0&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),p.initializer===void 0&&(Object.defineProperty(r,e,p),p=null),p}n(m,"_applyDecoratedDescriptor");function B(r,e,t){if(typeof r=="function"?r===e:r.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}n(B,"_assertClassBrand");function ss(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}n(ss,"_checkPrivateRedeclaration");function s(r,e){return r.get(B(r,e))}n(s,"_classPrivateFieldGet2");function d(r,e,t){ss(r,e),e.set(r,t)}n(d,"_classPrivateFieldInitSpec");function a(r,e,t){return r.set(B(r,e),t),t}n(a,"_classPrivateFieldSet2");function is(r,e){ss(r,e),e.add(r)}n(is,"_classPrivateMethodInitSpec");function z(r,e,t){return(e=Zs(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}n(z,"_defineProperty");function Ys(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}n(Ys,"_toPrimitive");function Zs(r){var e=Ys(r,"string");return typeof e=="symbol"?e:e+""}n(Zs,"_toPropertyKey");const ns=new TextDecoder,qs=new TextDecoder("utf-16"),Qs=new TextEncoder;var de=new WeakMap,gt=new WeakMap,w=new WeakMap,o=new WeakMap,_=new WeakMap;const cr=class cr{constructor(e,t=!0){d(this,de,void 0),d(this,gt,void 0),d(this,w,void 0),d(this,o,0),d(this,_,void 0),z(this,"readInt",this.readInt32),z(this,"writeInt",this.writeInt32),z(this,"readByte",this.readInt8),z(this,"writeByte",this.writeInt8),z(this,"readLong",this.readBigInt64),z(this,"writeLong",this.writeBigInt64),z(this,"readDouble",this.readFloat64),z(this,"writeDouble",this.readFloat64),z(this,"readFloat",this.readFloat32),z(this,"writeFloat",this.writeFloat32),a(de,this,e),a(gt,this,new Uint8Array(e)),a(w,this,new DataView(e)),a(_,this,t)}set position(e){a(o,this,e)}get position(){return s(o,this)}get dataView(){return s(w,this)}skip(e){a(o,this,s(o,this)+e)}skipString(e){if(e!==void 0){a(o,this,s(o,this)+e);return}const t=this.readInt();a(o,this,s(o,this)+t)}readString(e){if(e===void 0){const c=this.readInt(),p=ns.decode(s(de,this).slice(s(o,this),s(o,this)+c-1));return a(o,this,s(o,this)+c),p}const t=this.readInt();if(t+4===e){const c=ns.decode(s(de,this).slice(s(o,this),s(o,this)+t-1));return a(o,this,s(o,this)+t),c}const i=qs.decode(s(de,this).slice(s(o,this),s(o,this)+e-6));return a(o,this,s(o,this)+(e-4)),i}writeString(e){const t=Qs.encode(e);this.writeInt(t.byteLength),s(gt,this).set(t,s(o,this))}readInt8(){const e=s(w,this).getInt8(s(o,this),s(_,this));return a(o,this,s(o,this)+1),e}writeInt8(e){s(w,this).setInt8(s(o,this),e,s(_,this)),a(o,this,s(o,this)+1)}readUint8(){const e=s(w,this).getUint8(s(o,this),s(_,this));return a(o,this,s(o,this)+1),e}writeUint8(e){s(w,this).setUint8(s(o,this),e,s(_,this)),a(o,this,s(o,this)+1)}readInt16(){const e=s(w,this).getInt16(s(o,this),s(_,this));return a(o,this,s(o,this)+2),e}writeInt16(e){s(w,this).setInt16(s(o,this),e,s(_,this)),a(o,this,s(o,this)+2)}readUint16(){const e=s(w,this).getUint16(s(o,this),s(_,this));return a(o,this,s(o,this)+2),e}writeUint16(e){s(w,this).setUint16(s(o,this),e,s(_,this)),a(o,this,s(o,this)+2)}readInt32(){const e=s(w,this).getInt32(s(o,this),s(_,this));return a(o,this,s(o,this)+4),e}writeInt32(e){s(w,this).setInt32(s(o,this),e,s(_,this)),a(o,this,s(o,this)+4)}readUint32(){const e=s(w,this).getUint32(s(o,this),s(_,this));return a(o,this,s(o,this)+4),e}writeUint32(e){s(w,this).setUint32(s(o,this),e,s(_,this)),a(o,this,s(o,this)+4)}readFloat32(){const e=s(w,this).getFloat32(s(o,this),s(_,this));return a(o,this,s(o,this)+4),e}writeFloat32(e){s(w,this).setFloat32(s(o,this),e,s(_,this)),a(o,this,s(o,this)+4)}readFloat64(){const e=s(w,this).getFloat64(s(o,this),s(_,this));return a(o,this,s(o,this)+8),e}writeFloat64(e){s(w,this).setFloat64(s(o,this),e,s(_,this)),a(o,this,s(o,this)+8)}readBigInt64(){const e=s(w,this).getBigInt64(s(o,this),s(_,this));return a(o,this,s(o,this)+8),Number(e)}writeBigInt64(e){s(w,this).setBigInt64(s(o,this),e,s(_,this)),a(o,this,s(o,this)+8)}readBigUint64(){const e=s(w,this).getBigUint64(s(o,this),s(_,this));return a(o,this,s(o,this)+8),Number(e)}writeBigUint64(e){s(w,this).setBigUint64(s(o,this),e,s(_,this)),a(o,this,s(o,this)+8)}readBoolean(){return this.readInt32()!=0}};n(cr,"BinaryContent");let yt=cr;var l;(function(r){r[r.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",r[r.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",r[r.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"})(l||(l={}));var Vs=function(){function r(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return n(r,"MetadataStorage"),r.prototype.addTypeMetadata=function(e){this._typeMetadatas.has(e.target)||this._typeMetadatas.set(e.target,new Map),this._typeMetadatas.get(e.target).set(e.propertyName,e)},r.prototype.addTransformMetadata=function(e){this._transformMetadatas.has(e.target)||this._transformMetadatas.set(e.target,new Map),this._transformMetadatas.get(e.target).has(e.propertyName)||this._transformMetadatas.get(e.target).set(e.propertyName,[]),this._transformMetadatas.get(e.target).get(e.propertyName).push(e)},r.prototype.addExposeMetadata=function(e){this._exposeMetadatas.has(e.target)||this._exposeMetadatas.set(e.target,new Map),this._exposeMetadatas.get(e.target).set(e.propertyName,e)},r.prototype.addExcludeMetadata=function(e){this._excludeMetadatas.has(e.target)||this._excludeMetadatas.set(e.target,new Map),this._excludeMetadatas.get(e.target).set(e.propertyName,e)},r.prototype.findTransformMetadatas=function(e,t,i){return this.findMetadatas(this._transformMetadatas,e,t).filter(function(c){return!c.options||c.options.toClassOnly===!0&&c.options.toPlainOnly===!0?!0:c.options.toClassOnly===!0?i===l.CLASS_TO_CLASS||i===l.PLAIN_TO_CLASS:c.options.toPlainOnly===!0?i===l.CLASS_TO_PLAIN:!0})},r.prototype.findExcludeMetadata=function(e,t){return this.findMetadata(this._excludeMetadatas,e,t)},r.prototype.findExposeMetadata=function(e,t){return this.findMetadata(this._exposeMetadatas,e,t)},r.prototype.findExposeMetadataByCustomName=function(e,t){return this.getExposedMetadatas(e).find(function(i){return i.options&&i.options.name===t})},r.prototype.findTypeMetadata=function(e,t){return this.findMetadata(this._typeMetadatas,e,t)},r.prototype.getStrategy=function(e){var t=this._excludeMetadatas.get(e),i=t&&t.get(void 0),c=this._exposeMetadatas.get(e),p=c&&c.get(void 0);return i&&p||!i&&!p?"none":i?"excludeAll":"exposeAll"},r.prototype.getExposedMetadatas=function(e){return this.getMetadata(this._exposeMetadatas,e)},r.prototype.getExcludedMetadatas=function(e){return this.getMetadata(this._excludeMetadatas,e)},r.prototype.getExposedProperties=function(e,t){return this.getExposedMetadatas(e).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?t===l.CLASS_TO_CLASS||t===l.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?t===l.CLASS_TO_PLAIN:!0}).map(function(i){return i.propertyName})},r.prototype.getExcludedProperties=function(e,t){return this.getExcludedMetadatas(e).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?t===l.CLASS_TO_CLASS||t===l.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?t===l.CLASS_TO_PLAIN:!0}).map(function(i){return i.propertyName})},r.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},r.prototype.getMetadata=function(e,t){var i=e.get(t),c;i&&(c=Array.from(i.values()).filter(function(L){return L.propertyName!==void 0}));for(var p=[],f=0,h=this.getAncestors(t);f<h.length;f++){var g=h[f],A=e.get(g);if(A){var y=Array.from(A.values()).filter(function(L){return L.propertyName!==void 0});p.push.apply(p,y)}}return p.concat(c||[])},r.prototype.findMetadata=function(e,t,i){var c=e.get(t);if(c){var p=c.get(i);if(p)return p}for(var f=0,h=this.getAncestors(t);f<h.length;f++){var g=h[f],A=e.get(g);if(A){var y=A.get(i);if(y)return y}}},r.prototype.findMetadatas=function(e,t,i){var c=e.get(t),p;c&&(p=c.get(i));for(var f=[],h=0,g=this.getAncestors(t);h<g.length;h++){var A=g[h],y=e.get(A);y&&y.has(i)&&f.push.apply(f,y.get(i))}return f.slice().reverse().concat((p||[]).slice().reverse())},r.prototype.getAncestors=function(e){if(!e)return[];if(!this._ancestorsMap.has(e)){for(var t=[],i=Object.getPrototypeOf(e.prototype.constructor);typeof i.prototype<"u";i=Object.getPrototypeOf(i.prototype.constructor))t.push(i);this._ancestorsMap.set(e,t)}return this._ancestorsMap.get(e)},r}(),P=new Vs;function ei(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}n(ei,"getGlobal");function ti(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}n(ti,"isPromise");var os=function(r,e,t){if(t||arguments.length===2)for(var i=0,c=e.length,p;i<c;i++)(p||!(i in e))&&(p||(p=Array.prototype.slice.call(e,0,i)),p[i]=e[i]);return r.concat(p||Array.prototype.slice.call(e))};function ri(r){var e=new r;return!(e instanceof Set)&&!("push"in e)?[]:e}n(ri,"instantiateArrayType");var Z=function(){function r(e,t){this.transformationType=e,this.options=t,this.recursionStack=new Set}return n(r,"TransformOperationExecutor"),r.prototype.transform=function(e,t,i,c,p,f){var h=this;if(f===void 0&&(f=0),Array.isArray(t)||t instanceof Set){var g=c&&this.transformationType===l.PLAIN_TO_CLASS?ri(c):[];return t.forEach(function(x,C){var F=e?e[C]:void 0;if(!h.options.enableCircularCheck||!h.isCircular(x)){var W=void 0;if(typeof i!="function"&&i&&i.options&&i.options.discriminator&&i.options.discriminator.property&&i.options.discriminator.subTypes){if(h.transformationType===l.PLAIN_TO_CLASS){W=i.options.discriminator.subTypes.find(function(H){return H.name===x[i.options.discriminator.property]});var K={newObject:g,object:x,property:void 0},v=i.typeFunction(K);W===void 0?W=v:W=W.value,i.options.keepDiscriminatorProperty||delete x[i.options.discriminator.property]}h.transformationType===l.CLASS_TO_CLASS&&(W=x.constructor),h.transformationType===l.CLASS_TO_PLAIN&&(x[i.options.discriminator.property]=i.options.discriminator.subTypes.find(function(H){return H.value===x.constructor}).name)}else W=i;var E=h.transform(F,x,W,void 0,x instanceof Map,f+1);g instanceof Set?g.add(E):g.push(E)}else h.transformationType===l.CLASS_TO_CLASS&&(g instanceof Set?g.add(x):g.push(x))}),g}else{if(i===String&&!p)return t==null?t:String(t);if(i===Number&&!p)return t==null?t:Number(t);if(i===Boolean&&!p)return t==null?t:!!t;if((i===Date||t instanceof Date)&&!p)return t instanceof Date?new Date(t.valueOf()):t==null?t:new Date(t);if(ei().Buffer&&(i===Buffer||t instanceof Buffer)&&!p)return t==null?t:Buffer.from(t);if(ti(t)&&!p)return new Promise(function(x,C){t.then(function(F){return x(h.transform(void 0,F,i,void 0,void 0,f+1))},C)});if(!p&&t!==null&&typeof t=="object"&&typeof t.then=="function")return t;if(typeof t=="object"&&t!==null){!i&&t.constructor!==Object&&(!Array.isArray(t)&&t.constructor===Array||(i=t.constructor)),!i&&e&&(i=e.constructor),this.options.enableCircularCheck&&this.recursionStack.add(t);var A=this.getKeys(i,t,p),y=e||{};!e&&(this.transformationType===l.PLAIN_TO_CLASS||this.transformationType===l.CLASS_TO_CLASS)&&(p?y=new Map:i?y=new i:y={});for(var L=n(function(x){if(x==="__proto__"||x==="constructor")return"continue";var C=x,F=x,W=x;if(!u.options.ignoreDecorators&&i){if(u.transformationType===l.PLAIN_TO_CLASS){var K=P.findExposeMetadataByCustomName(i,x);K&&(W=K.propertyName,F=K.propertyName)}else if(u.transformationType===l.CLASS_TO_PLAIN||u.transformationType===l.CLASS_TO_CLASS){var K=P.findExposeMetadata(i,x);K&&K.options&&K.options.name&&(F=K.options.name)}}var v=void 0;u.transformationType===l.PLAIN_TO_CLASS?v=t[C]:t instanceof Map?v=t.get(C):t[C]instanceof Function?v=t[C]():v=t[C];var E=void 0,H=v instanceof Map;if(i&&p)E=i;else if(i){var N=P.findTypeMetadata(i,W);if(N){var xi={newObject:y,object:t,property:W},Us=N.typeFunction?N.typeFunction(xi):N.reflectedType;N.options&&N.options.discriminator&&N.options.discriminator.property&&N.options.discriminator.subTypes?t[C]instanceof Array?E=N:(u.transformationType===l.PLAIN_TO_CLASS&&(E=N.options.discriminator.subTypes.find(function(X){if(v&&v instanceof Object&&N.options.discriminator.property in v)return X.name===v[N.options.discriminator.property]}),E===void 0?E=Us:E=E.value,N.options.keepDiscriminatorProperty||v&&v instanceof Object&&N.options.discriminator.property in v&&delete v[N.options.discriminator.property]),u.transformationType===l.CLASS_TO_CLASS&&(E=v.constructor),u.transformationType===l.CLASS_TO_PLAIN&&v&&(v[N.options.discriminator.property]=N.options.discriminator.subTypes.find(function(X){return X.value===v.constructor}).name)):E=Us,H=H||N.reflectedType===Map}else if(u.options.targetMaps)u.options.targetMaps.filter(function(X){return X.target===i&&!!X.properties[W]}).forEach(function(X){return E=X.properties[W]});else if(u.options.enableImplicitConversion&&u.transformationType===l.PLAIN_TO_CLASS){var zs=Reflect.getMetadata("design:type",i.prototype,W);zs&&(E=zs)}}var Gs=Array.isArray(t[C])?u.getReflectedType(i,W):void 0,Js=e?e[C]:void 0;if(y.constructor.prototype){var Ks=Object.getOwnPropertyDescriptor(y.constructor.prototype,F);if((u.transformationType===l.PLAIN_TO_CLASS||u.transformationType===l.CLASS_TO_CLASS)&&(Ks&&!Ks.set||y[F]instanceof Function))return"continue"}if(!u.options.enableCircularCheck||!u.isCircular(v)){var dt=u.transformationType===l.PLAIN_TO_CLASS?F:x,k=void 0;u.transformationType===l.CLASS_TO_PLAIN?(k=t[dt],k=u.applyCustomTransformations(k,i,dt,t,u.transformationType),k=t[dt]===k?v:k,k=u.transform(Js,k,E,Gs,H,f+1)):v===void 0&&u.options.exposeDefaultValues?k=y[F]:(k=u.transform(Js,v,E,Gs,H,f+1),k=u.applyCustomTransformations(k,i,dt,t,u.transformationType)),(k!==void 0||u.options.exposeUnsetFields)&&(y instanceof Map?y.set(F,k):y[F]=k)}else if(u.transformationType===l.CLASS_TO_CLASS){var k=v;k=u.applyCustomTransformations(k,i,x,t,u.transformationType),(k!==void 0||u.options.exposeUnsetFields)&&(y instanceof Map?y.set(F,k):y[F]=k)}},"_loop_1"),u=this,rs=0,Cs=A;rs<Cs.length;rs++){var Mi=Cs[rs];L(Mi)}return this.options.enableCircularCheck&&this.recursionStack.delete(t),y}else return t}},r.prototype.applyCustomTransformations=function(e,t,i,c,p){var f=this,h=P.findTransformMetadatas(t,i,this.transformationType);return this.options.version!==void 0&&(h=h.filter(function(g){return g.options?f.checkVersion(g.options.since,g.options.until):!0})),this.options.groups&&this.options.groups.length?h=h.filter(function(g){return g.options?f.checkGroups(g.options.groups):!0}):h=h.filter(function(g){return!g.options||!g.options.groups||!g.options.groups.length}),h.forEach(function(g){e=g.transformFn({value:e,key:i,obj:c,type:p,options:f.options})}),e},r.prototype.isCircular=function(e){return this.recursionStack.has(e)},r.prototype.getReflectedType=function(e,t){if(e){var i=P.findTypeMetadata(e,t);return i?i.reflectedType:void 0}},r.prototype.getKeys=function(e,t,i){var c=this,p=P.getStrategy(e);p==="none"&&(p=this.options.strategy||"exposeAll");var f=[];if((p==="exposeAll"||i)&&(t instanceof Map?f=Array.from(t.keys()):f=Object.keys(t)),i)return f;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&e){var h=P.getExposedProperties(e,this.transformationType),g=P.getExcludedProperties(e,this.transformationType);f=os(os([],h,!0),g,!0)}if(!this.options.ignoreDecorators&&e){var h=P.getExposedProperties(e,this.transformationType);this.transformationType===l.PLAIN_TO_CLASS&&(h=h.map(function(L){var u=P.findExposeMetadata(e,L);return u&&u.options&&u.options.name?u.options.name:L})),this.options.excludeExtraneousValues?f=h:f=f.concat(h);var A=P.getExcludedProperties(e,this.transformationType);A.length>0&&(f=f.filter(function(L){return!A.includes(L)})),this.options.version!==void 0&&(f=f.filter(function(L){var u=P.findExposeMetadata(e,L);return!u||!u.options?!0:c.checkVersion(u.options.since,u.options.until)})),this.options.groups&&this.options.groups.length?f=f.filter(function(L){var u=P.findExposeMetadata(e,L);return!u||!u.options?!0:c.checkGroups(u.options.groups)}):f=f.filter(function(L){var u=P.findExposeMetadata(e,L);return!u||!u.options||!u.options.groups||!u.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(f=f.filter(function(y){return c.options.excludePrefixes.every(function(L){return y.substr(0,L.length)!==L})})),f=f.filter(function(y,L,u){return u.indexOf(y)===L}),f},r.prototype.checkVersion=function(e,t){var i=!0;return i&&e&&(i=this.options.version>=e),i&&t&&(i=this.options.version<t),i},r.prototype.checkGroups=function(e){return e?this.options.groups.some(function(t){return e.includes(t)}):!0},r}(),q={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},$=function(){return $=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(r[c]=e[c])}return r},$.apply(this,arguments)},si=function(){function r(){}return n(r,"ClassTransformer"),r.prototype.instanceToPlain=function(e,t){var i=new Z(l.CLASS_TO_PLAIN,$($({},q),t));return i.transform(void 0,e,void 0,void 0,void 0,void 0)},r.prototype.classToPlainFromExist=function(e,t,i){var c=new Z(l.CLASS_TO_PLAIN,$($({},q),i));return c.transform(t,e,void 0,void 0,void 0,void 0)},r.prototype.plainToInstance=function(e,t,i){var c=new Z(l.PLAIN_TO_CLASS,$($({},q),i));return c.transform(void 0,t,e,void 0,void 0,void 0)},r.prototype.plainToClassFromExist=function(e,t,i){var c=new Z(l.PLAIN_TO_CLASS,$($({},q),i));return c.transform(e,t,void 0,void 0,void 0,void 0)},r.prototype.instanceToInstance=function(e,t){var i=new Z(l.CLASS_TO_CLASS,$($({},q),t));return i.transform(void 0,e,void 0,void 0,void 0,void 0)},r.prototype.classToClassFromExist=function(e,t,i){var c=new Z(l.CLASS_TO_CLASS,$($({},q),i));return c.transform(t,e,void 0,void 0,void 0,void 0)},r.prototype.serialize=function(e,t){return JSON.stringify(this.instanceToPlain(e,t))},r.prototype.deserialize=function(e,t,i){var c=JSON.parse(t);return this.plainToInstance(e,c,i)},r.prototype.deserializeArray=function(e,t,i){var c=JSON.parse(t);return this.plainToInstance(e,c,i)},r}();function O(r){return r===void 0&&(r={}),function(e,t){P.addExposeMetadata({target:e instanceof Function?e:e.constructor,propertyName:t,options:r})}}n(O,"Expose");var ii=new si;function ni(r,e){return ii.instanceToPlain(r,e)}n(ni,"instanceToPlain");var as,he,Le;let Y=(as=O(),he=(Le=new WeakMap,re=class{constructor(){d(this,Le,void 0)}get offset(){return s(Le,this)}read(e){return a(Le,this,e.position),this.readObject(e),this}readObject(e){throw new Error("Not implement readObject method.")}},n(re,"ArchiverObject"),re),m(he.prototype,"offset",[as],Object.getOwnPropertyDescriptor(he.prototype,"offset"),he.prototype),he);var ke=new WeakMap;const fr=class fr extends yt{constructor(...e){super(...e),d(this,ke,[])}get names(){return s(ke,this)}set names(e){a(ke,this,e)}readName(){const e=this.readInt()-1;return this.skip(4),s(ke,this)[e]}};n(fr,"SaveGameBinaryContent");let mt=fr;const ur=class ur extends Y{readObject(e){e.skip(4*6)}};n(ur,"LocationObject");let Ot=ur;var ps,cs,fs,us,ds,hs,T,Te,je,Ie,vt,Ne,be,De;let j=(ps=O(),cs=O(),fs=O(),us=O(),ds=O(),hs=O(),T=(Te=new WeakMap,je=new WeakMap,Ie=new WeakMap,vt=new WeakMap,Ne=new WeakMap,be=new WeakMap,De=new WeakMap,se=class extends Y{get byteLength(){return s(Ie,this)}get value(){return s(De,this)}get offset(){return s(Ne,this)}get name(){return s(Te,this)}get type(){return s(je,this)}get valueOffset(){return s(be,this)}constructor(e){super(),d(this,Te,void 0),d(this,je,void 0),d(this,Ie,void 0),d(this,vt,void 0),d(this,Ne,void 0),d(this,be,void 0),d(this,De,void 0),a(Ne,this,e.offset),a(Te,this,e.name),a(je,this,e.type)}read(e){return a(Ie,this,e.readInt()),a(vt,this,e.readInt()),this.readTypeObject(e),this.skipByteBeforeReadValue()&&e.skip(1),a(be,this,e.position),a(De,this,this.readValueObject(e)),this}skipByteBeforeReadValue(){return!0}readTypeObject(e){}readValueObject(e){}},n(se,"PropertyObject"),se),m(T.prototype,"byteLength",[ps],Object.getOwnPropertyDescriptor(T.prototype,"byteLength"),T.prototype),m(T.prototype,"value",[cs],Object.getOwnPropertyDescriptor(T.prototype,"value"),T.prototype),m(T.prototype,"offset",[fs],Object.getOwnPropertyDescriptor(T.prototype,"offset"),T.prototype),m(T.prototype,"name",[us],Object.getOwnPropertyDescriptor(T.prototype,"name"),T.prototype),m(T.prototype,"type",[ds],Object.getOwnPropertyDescriptor(T.prototype,"type"),T.prototype),m(T.prototype,"valueOffset",[hs],Object.getOwnPropertyDescriptor(T.prototype,"valueOffset"),T.prototype),T);var le=new WeakMap,wt=new WeakMap;const dr=class dr extends Y{constructor(...e){super(...e),d(this,le,void 0),d(this,wt,void 0)}get name(){return s(le,this)}get type(){return s(wt,this)}readObject(e){a(le,this,e.readName()),s(le,this)!=="None"&&a(wt,this,e.readName())}isNoneType(){return s(le,this)==="None"}};n(dr,"PropertyTypeObject");let Q=dr;const hr=class hr extends j{read(e){}};n(hr,"NonePropertyObject");let St=hr;const ls=new Map;function gs(r){return r.isNoneType()}n(gs,"isPropertyEnd");function I(r){const e=r.name.replace(/Object$/,"");ls.set(e,r)}n(I,"registerPropertyObject");function Mt(r){if(r.isNoneType())return new St(r);const e=ls.get(r.type);if(!e)throw new Error;return new e(r)}n(Mt,"createPropertyObject");var ys,ms,Os,vs,ws,Ss,Ms,S,We,Ee,Pe,$e,Fe,Be,xt,_t,At,Ce,Lt,Ue,ze,ge,Ge;let oi=(ys=O(),ms=O(),Os=O(),vs=O(),ws=O(),Ss=O(),Ms=O(),S=(We=new WeakMap,Ee=new WeakMap,Pe=new WeakMap,$e=new WeakMap,Fe=new WeakMap,Be=new WeakMap,xt=new WeakMap,_t=new WeakMap,At=new WeakMap,Ce=new WeakMap,Lt=new WeakMap,Ue=new WeakMap,ze=new WeakMap,ge=new WeakMap,Ge=new WeakSet,ie=class extends Y{get isItem(){return s(Be,this)}get objectId(){return s(We,this)}get pathOffset(){return s($e,this)}get nameOffset(){return s(Ee,this)}get name(){return s(Pe,this)}get path(){return s(Fe,this)}get properties(){return s(ze,this)}get document(){return s(ge,this)}constructor(e,t){super(),is(this,Ge),d(this,We,void 0),d(this,Ee,void 0),d(this,Pe,[]),d(this,$e,void 0),d(this,Fe,void 0),d(this,Be,void 0),d(this,xt,[]),d(this,_t,void 0),d(this,At,void 0),d(this,Ce,void 0),d(this,Lt,void 0),d(this,Ue,void 0),d(this,ze,[]),d(this,ge,void 0),a(ge,this,e),a(We,this,t)}readObject(e){console.log("GameObjectOffset: ",e.position.toString(16).toLocaleUpperCase()),e.skip(16),a(Ee,this,e.position),a(Pe,this,e.readName()),a($e,this,e.position),a(Fe,this,e.readString()),a(Be,this,e.readBoolean()),B(Ge,this,ai).call(this,e),a(_t,this,e.readBoolean()),a(At,this,e.readInt()),a(Ce,this,e.readBoolean()),s(Ce,this)&&a(Lt,this,new Ot().read(e)),a(Ue,this,e.readUint32()),e.skip(4),B(Ge,this,pi).call(this,e)}},n(ie,"GameObject"),ie),m(S.prototype,"isItem",[ys],Object.getOwnPropertyDescriptor(S.prototype,"isItem"),S.prototype),m(S.prototype,"objectId",[ms],Object.getOwnPropertyDescriptor(S.prototype,"objectId"),S.prototype),m(S.prototype,"pathOffset",[Os],Object.getOwnPropertyDescriptor(S.prototype,"pathOffset"),S.prototype),m(S.prototype,"nameOffset",[vs],Object.getOwnPropertyDescriptor(S.prototype,"nameOffset"),S.prototype),m(S.prototype,"name",[ws],Object.getOwnPropertyDescriptor(S.prototype,"name"),S.prototype),m(S.prototype,"path",[Ss],Object.getOwnPropertyDescriptor(S.prototype,"path"),S.prototype),m(S.prototype,"properties",[Ms],Object.getOwnPropertyDescriptor(S.prototype,"properties"),S.prototype),S);function ai(r){const e=r.readInt();for(let t=0;t<e;t++)s(xt,this).push(r.readName())}n(ai,"_readNames");function pi(r){const e=r.position;try{for(r.position=s(Ue,this)+s(ge,this).propertiesBlockOffset,console.log("GameObject PropertiesOffset: ","0x"+r.position.toString(16).toLocaleUpperCase());;){console.log("PropertiesOffset: ","0x"+r.position.toString(16).toLocaleUpperCase());const t=new Q().read(r);if(console.log("typeObject: ",t.name,t.type),gs(t))break;const i=Mt(t);s(ze,this).push(i),i.read(r)}}finally{r.position=e}}n(pi,"_readProperties");var xs,_s,As,Ls,ks,Ts,js,M,Je,Ke,ye,Re,kt,me,He,Xe,Tt,G;let ci=(xs=O(),_s=O(),As=O(),Ls=O(),ks=O(),Ts=O(),js=O(),M=(Je=new WeakMap,Ke=new WeakMap,ye=new WeakMap,Re=new WeakMap,kt=new WeakMap,me=new WeakMap,He=new WeakMap,Xe=new WeakMap,Tt=new WeakMap,G=new WeakSet,ne=class extends Y{constructor(...e){super(...e),is(this,G),d(this,Je,void 0),d(this,Ke,void 0),d(this,ye,void 0),d(this,Re,void 0),d(this,kt,void 0),d(this,me,[]),d(this,He,void 0),d(this,Xe,void 0),d(this,Tt,[])}get gameObjects(){return s(Tt,this)}get gameObjectsOffset(){return s(Xe,this)}get hibernationOffset(){return s(Ke,this)}get version(){return s(Je,this)}get nameOffset(){return s(ye,this)}get propertiesBlockOffset(){return s(Re,this)}get names(){return s(me,this)}readObject(e){B(G,this,fi).call(this,e),B(G,this,ui).call(this,e),B(G,this,di).call(this,e),B(G,this,hi).call(this,e),B(G,this,gi).call(this,e),B(G,this,mi).call(this,e)}},n(ne,"SaveGameDocument"),ne),m(M.prototype,"gameObjects",[xs],Object.getOwnPropertyDescriptor(M.prototype,"gameObjects"),M.prototype),m(M.prototype,"gameObjectsOffset",[_s],Object.getOwnPropertyDescriptor(M.prototype,"gameObjectsOffset"),M.prototype),m(M.prototype,"hibernationOffset",[As],Object.getOwnPropertyDescriptor(M.prototype,"hibernationOffset"),M.prototype),m(M.prototype,"version",[Ls],Object.getOwnPropertyDescriptor(M.prototype,"version"),M.prototype),m(M.prototype,"nameOffset",[ks],Object.getOwnPropertyDescriptor(M.prototype,"nameOffset"),M.prototype),m(M.prototype,"propertiesBlockOffset",[Ts],Object.getOwnPropertyDescriptor(M.prototype,"propertiesBlockOffset"),M.prototype),m(M.prototype,"names",[js],Object.getOwnPropertyDescriptor(M.prototype,"names"),M.prototype),M);function fi(r){a(Je,this,r.readInt16()),a(Ke,this,r.readUint32()),r.skip(4),a(ye,this,r.readUint32()),a(Re,this,r.readUint32()),a(kt,this,r.readFloat()),a(He,this,r.position)}n(fi,"_readHeaderObject");function ui(r){r.position=s(ye,this);const e=r.readInt();for(let t=0;t<e;t++)s(me,this).push(r.readString());r.names=s(me,this)}n(ui,"_readNameObjects");function di(r){r.position=s(He,this);const e=r.readInt();for(let t=0;t<e;t++)r.skipString()}n(di,"_skipDataFiles");function hi(r){const e=r.readInt();for(let t=0;t<e;t++)B(G,this,li).call(this,r)}n(hi,"_skipEmbeddedData");function li(r){r.skipString();const e=r.readInt();for(let t=0;t<e;t++){const i=r.readInt();for(let c=0;c<i;c++){const p=r.readInt();r.skip(p*4)}}}n(li,"_skipEmbeddedDataObject");function gi(r){const e=r.readInt();for(let t=0;t<e;t++)B(G,this,yi).call(this,r);a(Xe,this,r.position)}n(gi,"_skipDataFilesObjectMap");function yi(r){r.skip(4);const e=r.readInt();for(let t=0;t<e;t++)r.skipString()}n(yi,"_skipDataFilesObject");function mi(r){console.log("GameObjectOffset: ",r.position.toString(16).toLocaleUpperCase());const e=r.readInt();for(let t=0;t<e;t++){const i=new oi(this,t).read(r);i.path.startsWith("/Script")||this.gameObjects.push(i)}}n(mi,"_readGameObjects");var Is,Oe,Ye;let b=(Is=O(),Oe=(Ye=new WeakMap,oe=class extends Y{constructor(...e){super(...e),d(this,Ye,void 0)}get value(){return s(Ye,this)}readObject(e){a(Ye,this,this.readValueObject(e))}readValueObject(e){throw new Error("Not implement readValueObject!")}},n(oe,"SimpleValueObject"),oe),m(Oe.prototype,"value",[Is],Object.getOwnPropertyDescriptor(Oe.prototype,"value"),Oe.prototype),Oe);var Ns,bs,Ds,U,V,ve,ee;const jt=new Map;let Oi=(Ns=O(),bs=O(),Ds=O(),U=(V=new WeakMap,ve=new WeakMap,ee=new WeakMap,ae=class extends j{constructor(...e){super(...e),d(this,V,void 0),d(this,ve,void 0),d(this,ee,void 0)}get elementCount(){return s(ee,this)}get valueTypeObject(){return s(ve,this)}get arrayType(){return s(V,this)}readTypeObject(e){a(V,this,e.readName())}readValueObject(e){const t=vi(s(V,this));return a(ee,this,e.readInt()),t.readValueTypeObject&&a(ve,this,t.readValueTypeObject(e)),Array.from({length:s(ee,this)}).map((i,c)=>(console.log(`ArrayProperty [${this.name}] [${s(V,this)}] element [${c+1}/${s(ee,this)}] offset: `,"0x"+e.position.toString(16).toLocaleUpperCase()),new t(s(ve,this)).read(e)))}},n(ae,"ArrayPropertyObject"),ae),m(U.prototype,"elementCount",[Ns],Object.getOwnPropertyDescriptor(U.prototype,"elementCount"),U.prototype),m(U.prototype,"valueTypeObject",[bs],Object.getOwnPropertyDescriptor(U.prototype,"valueTypeObject"),U.prototype),m(U.prototype,"arrayType",[Ds],Object.getOwnPropertyDescriptor(U.prototype,"arrayType"),U.prototype),U);function vi(r){if(jt.has(r))return jt.get(r);throw new Error(`Not support Value Type: ${r}`)}n(vi,"getValueObject");function D(r){const e=r.name.replace(/ValueObject$/,"");jt.set(e,r)}n(D,"registerValueObject"),I(Oi);const lr=class lr extends b{readValueObject(e){e.skip(-1);const t=e.readByte()!=0;return e.skip(1),t}};n(lr,"BoolPropertyValueObject");let Ze=lr;D(Ze);var Ws,we,te;let Es=(Ws=O(),we=(te=new WeakMap,pe=class extends b{get enumType(){return s(te,this)}constructor(e){super(),d(this,te,void 0),a(te,this,e)}skipByteBeforeReadValue(){return!1}readValueObject(e){return s(te,this)==="None"||s(te,this)===void 0?e.readByte():e.readName()}},n(pe,"BytePropertyValueObject"),pe),m(we.prototype,"enumType",[Ws],Object.getOwnPropertyDescriptor(we.prototype,"enumType"),we.prototype),we);D(Es);const gr=class gr extends b{readValueObject(e){return e.readDouble()}};n(gr,"DoublePropertyValueObject");let qe=gr;D(qe);const yr=class yr extends b{readValueObject(e){return e.readFloat()}};n(yr,"FloatPropertyValueObject");let Qe=yr;D(Qe);const mr=class mr extends b{readValueObject(e){return e.readInt8()}};n(mr,"Int8PropertyValueObject");let Ve=mr;D(Ve);const Or=class Or extends b{readValueObject(e){return e.readInt16()}};n(Or,"Int16PropertyValueObject");let et=Or;D(et);const vr=class vr extends b{readValueObject(e){return e.readBigInt64()}};n(vr,"Int64PropertyValueObject");let tt=vr;D(tt);const wr=class wr extends b{readValueObject(e){return e.readInt32()}};n(wr,"IntPropertyValueObject");let rt=wr;D(rt);const Sr=class Sr extends b{readValueObject(e){return e.readName()}};n(Sr,"NamePropertyValueObject");let st=Sr;D(st);var it=new WeakMap;const Mr=class Mr extends b{constructor(...e){super(...e),d(this,it,void 0)}get objectType(){return s(it,this)}readValueObject(e){return a(it,this,e.readInt()),s(it,this)==0?e.readInt():e.readName()}};n(Mr,"ObjectPropertyValueObject");let nt=Mr;D(nt);var Ps,Se,ot;let It=(Ps=O(),Se=(ot=new WeakMap,ce=class extends b{get byteLength(){return s(ot,this)}constructor(e){super(),d(this,ot,void 0),a(ot,this,e)}readValueObject(e){return e.readString(this.byteLength)}},n(ce,"StrPropertyValueObject"),ce),m(Se.prototype,"byteLength",[Ps],Object.getOwnPropertyDescriptor(Se.prototype,"byteLength"),Se.prototype),Se);D(It);const xr=class xr extends b{readValueObject(e){return e.readUint16()}};n(xr,"UInt16PropertyValueObject");let at=xr;D(at);const _r=class _r extends b{readValueObject(e){return e.readUint32()}};n(_r,"UInt32PropertyValueObject");let pt=_r;D(pt);const Ar=class Ar extends b{readValueObject(e){return e.readBigUint64()}};n(Ar,"UInt64PropertyValueObject");let ct=Ar;D(ct);var $s,Me,xe;let J=($s=O(),Me=(xe=new WeakMap,fe=class extends Y{get byteLength(){return s(xe,this)}constructor(e){super(),d(this,xe,void 0),a(xe,this,e)}readObject(e){e.skip(s(xe,this))}},n(fe,"SizedObject"),fe),m(Me.prototype,"byteLength",[$s],Object.getOwnPropertyDescriptor(Me.prototype,"byteLength"),Me.prototype),Me);var Nt=new WeakMap;const Lr=class Lr extends J{constructor(...e){super(...e),d(this,Nt,[])}get properties(){return s(Nt,this)}readObject(e){const t=this.offset+this.byteLength;try{for(;e.position<t;){const i=new Q().read(e);if(i.isNoneType())break;const c=Mt(i);s(Nt,this).push(c),c.read(e)}}finally{e.position=t}}};n(Lr,"NormalStructObject");let bt=Lr;var Fs,_e,Ae;const Dt=new Map;let Bs=(Fs=O(),_e=(Ae=new WeakMap,ue=class extends j{constructor(...e){super(...e),d(this,Ae,void 0)}get structName(){return s(Ae,this)}readTypeObject(e){a(Ae,this,e.readName()),e.skip(16)}readValueObject(e){const t=wi(s(Ae,this));return new t(this.byteLength).read(e)}},n(ue,"StructPropertyObject"),ue),m(_e.prototype,"structName",[Fs],Object.getOwnPropertyDescriptor(_e.prototype,"structName"),_e.prototype),_e);function wi(r){return Dt.has(r)?Dt.get(r):bt}n(wi,"getStuctObject");function R(r){const e=r.name.replace(/Object$/,"");Dt.set(e,r)}n(R,"registerStuctObject"),I(Bs);const kr=class kr extends Bs{readValueObject(e){return[]}};n(kr,"ValueTypeObject");let Wt=kr;const Tr=class Tr extends b{readValueObject(e){const t=[];for(console.log("StructPropertyValue PropertiesOffset: ","0x"+e.position.toString(16).toLocaleUpperCase());;){console.log("PropertiesOffset: ","0x"+e.position.toString(16).toLocaleUpperCase());const i=new Q().read(e);console.log("Property: ",i.name,i.type);const c=Mt(i);if(t.push(c),c.read(e),gs(i))break}return t}static readValueTypeObject(e){const t=new Q().read(e);return new Wt(t).read(e)}};n(Tr,"StructPropertyValueObject");let Et=Tr;D(Et);var Pt=new WeakMap;const jr=class jr extends b{constructor(e){super(),d(this,Pt,void 0),a(Pt,this,e)}readValueObject(e){e.readInt()!==0&&e.skip(4),e.skip(5);const i=[];for(;s(Pt,this)+this.offset>e.position;)i.push(e.readString());return i}};n(jr,"TextPropertyValueObject");let ft=jr;D(ft);const Ir=class Ir extends j{readValueObject(e){return new It().read(e)}};n(Ir,"AssetObjectPropertyObject");let $t=Ir;I($t);const Nr=class Nr extends j{readValueObject(e){return new Ze().read(e)}};n(Nr,"BoolPropertyObject");let Ft=Nr;I(Ft);var ut=new WeakMap;const br=class br extends j{constructor(...e){super(...e),d(this,ut,void 0)}get enumType(){return s(ut,this)}readTypeObject(e){a(ut,this,e.readName())}readValueObject(e){return new Es(s(ut,this)).read(e)}};n(br,"BytePropertyObject");let Bt=br;I(Bt);const Dr=class Dr extends j{readValueObject(e){return new qe().read(e)}};n(Dr,"DoublePropertyObject");let Ct=Dr;I(Ct);const Wr=class Wr extends j{readValueObject(e){return new Qe().read(e)}};n(Wr,"FloatPropertyObject");let Ut=Wr;I(Ut);const Er=class Er extends j{readValueObject(e){return new Ve().read(e)}};n(Er,"Int8PropertyObject");let zt=Er;I(zt);const Pr=class Pr extends j{readValueObject(e){return new et().read(e)}};n(Pr,"Int16PropertyObject");let Gt=Pr;I(Gt);const $r=class $r extends j{readValueObject(e){return new tt().read(e)}};n($r,"Int64PropertyObject");let Jt=$r;I(Jt);const Fr=class Fr extends j{readValueObject(e){return new rt().read(e)}};n(Fr,"IntPropertyObject");let Kt=Fr;I(Kt);const Br=class Br extends j{readValueObject(e){return e.skip(8),e.skip(this.byteLength),null}};n(Br,"MapPropertyObject");let Rt=Br;I(Rt);const Cr=class Cr extends j{readValueObject(e){return new st().read(e)}};n(Cr,"NamePropertyObject");let Ht=Cr;I(Ht);const Ur=class Ur extends j{readValueObject(e){return new nt().read(e)}};n(Ur,"ObjectPropertyObject");let Xt=Ur;I(Xt);const zr=class zr extends j{readValueObject(e){return new It(this.byteLength).read(e)}};n(zr,"StrPropertyObject");let Yt=zr;I(Yt);const Gr=class Gr extends j{readTypeObject(e){}readValueObject(e){return new ft(this.byteLength).read(e)}};n(Gr,"TextPropertyObject");let Zt=Gr;I(Zt);const Jr=class Jr extends j{readValueObject(e){return new at().read(e)}};n(Jr,"UInt16PropertyObject");let qt=Jr;I(qt);const Kr=class Kr extends j{readValueObject(e){return new pt().read(e)}};n(Kr,"UInt32PropertyObject");let Qt=Kr;I(Qt);const Rr=class Rr extends j{readValueObject(e){return new ct().read(e)}};n(Rr,"UInt64PropertyObject");let Vt=Rr;I(Vt);const Hr=class Hr extends J{};n(Hr,"ColorObject");let er=Hr;R(er);const Xr=class Xr extends J{};n(Xr,"DateTimeObject");let tr=Xr;R(tr);const Yr=class Yr extends J{};n(Yr,"LinearColorObject");let rr=Yr;R(rr);const Zr=class Zr extends J{};n(Zr,"QuatObject");let sr=Zr;R(sr);const qr=class qr extends J{};n(qr,"RotatorObject");let ir=qr;R(ir);const Qr=class Qr extends J{};n(Qr,"ShooterServerStatsObject");let nr=Qr;R(nr);const Vr=class Vr extends J{};n(Vr,"UniqueNetIdReplObject");let or=Vr;R(or);const es=class es extends J{};n(es,"Vector2DObject");let ar=es;R(ar);const ts=class ts extends J{};n(ts,"VectorObject");let pr=ts;R(pr),Xs(({type:r,data:e})=>{switch(r){case"load":return Si(e)}return null});function Si(r){const e=new mt(r);return{document:ni(new ci().read(e)),fileContent:r}}n(Si,"loadSaveGameDocument")})();
